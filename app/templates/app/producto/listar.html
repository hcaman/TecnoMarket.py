{% extends 'app/base.html' %} {% block contenido %} {% block js %}
<script>
  function eliminarProd(id) {
    Swal.fire({
      title: 'Estas seguro ?!',
      text: 'Esta accion no se puede deshacer.',
      icon: 'question',
      showCancelButton: true,
      cancelButtonText: 'No',
      confirmButtonText: 'Si, eliminar',
      reverseButtons: true,
      confirmButtonColor: '#dc3545',
    }).then(function (res) {
      if (res.isConfirmed) {
        window.location.href = '/eliminar-producto/' + id + '/';
      }
    });
  }
</script>
{% endblock %} {% load humanize %}
<div class="card">
  <div class="card-body">
    <h2>Listado de productos</h2>
    <hr />
    <table class="table table-striped table-hover table-responsive-sm">
      <tr>
        <th>Nombre</th>
        <th>Marca</th>
        <th>Precio</th>
        <th>Es nuevo ?</th>
        <th>Opciones</th>
      </tr>
      {% for p in productos %}
      <tr>
        <td>{{ p.nombre | title }}</td>
        <td>${{ p.precio | intcomma }}</td>
        <td>{{ p.marca | title }}</td>
        <td>{% if p.nuevo %} SI {% else %} NO {%endif%}</td>
        <td>
          <a href="{% url 'editar_producto' p.id %}" class="btn btn-info btn-sm"
            >Modificar</a
          >
          <a
            onclick="eliminarProd({{ p.id }})"
            href="#"
            class="btn btn-danger btn-sm"
            >Eliminar</a
          >
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock %}
